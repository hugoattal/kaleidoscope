import{s as u,a as r}from"./_plugin-vue_export-helper-DRdWDLXJ.js";import{I as l}from"./index-DQNOGd6n.js";const a={features:{},playlists:{}};async function p(t){return a.playlists[t]||(a.playlists[t]=(await r(`/playlists/${t}/tracks?fields=next,items(track(id,popularity,name,artists(name),duration_ms,album(release_date,images(url))))`)).map(e=>e.track)),a.playlists[t]}async function y(){return a.userPlaylists||(a.userPlaylists=await r(`/users/${l.value}/playlists`)),a.userPlaylists}async function m(t){try{const e=t.filter(s=>!a.features[s.id]);for(let s=0;s<e.length;s+=100){const o=(await u(`/audio-features?ids=${e.slice(s,s+100).map(i=>i.id).join(",")}`)).audio_features;for(const i of o)a.features[i.id]=i}for(const s of t)s.features=a.features[s.id]}catch(e){console.error(e)}}export{m as a,p as b,y as g};
