import{_ as pe,d as T,m as me,k as fe,l as $,n as ve,p as ye,q as V,s as Y,t as ge,v as Z,x as he,j as w,e as p,w as x,c as b,y as N,i as u,z as E,A as W,r as ke,f as v,g as D,u as o,B as _e,C as be,D as ae,o as G,E as Me,G as R,F as S,H as U,I as J,J as te,K as C,L as Pe,M as H,N as $e,O as we,P as xe,Q as j}from"./index-DSzLFWiH.js";import{_ as I,s as se,a as Q}from"./_plugin-vue_export-helper-BFqUUJdV.js";/*!
* @ferris-wheel/design v1.16.0
* (c) 2025 Hugo Attal
*/const Se={key:0,class:"min-max"},Te=T({__name:"FNumberInput",props:me({clamp:{type:Boolean},disabled:{type:Boolean},drag:{type:Boolean},fixed:{},keepZeroes:{type:Boolean},max:{},min:{},readonly:{type:Boolean},step:{},stride:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(n){fe(m=>({"8bc54f54":k.value}));const e=n,t=ve(n,"modelValue"),s=ye("input"),a=V(!1);let l;Y(()=>t.value,m=>{l=String(m)},{immediate:!0});const i=V(String(t.value)),M=V(!1),g=$({get:()=>i.value,set:m=>{m=m.replace(/\s/g,"").replace(/,/g,"."),l=m;let _=Number.parseFloat(m);isNaN(_)||m===""||(e.clamp&&(_=Math.max(e.min??-1/0,Math.min(e.max??1/0,_))),t.value=_)}}),d=$(()=>e.min!==void 0&&e.max!==void 0),k=$(()=>{const m=Number.parseFloat(t.value||0),_=e.min,K=e.max;return Math.max(0,Math.min(100,(m-_)/(K-_)*100))}),{pressure:y,x:c}=ge(),f=$(()=>{var m,_;return e.stride?1/e.stride:d.value?(e.max-e.min)/(((_=(m=s.value)==null?void 0:m.$el)==null?void 0:_.clientWidth)||1):1});function P(m){e.clamp&&(m=Math.max(e.min??-1/0,Math.min(e.max??1/0,m))),e.step&&(m=Math.round(m/e.step)*e.step),e.fixed!==void 0&&(m=Number(m.toFixed(e.fixed))),t.value=m}const h=Z({start:0,isMoving:!1,isUpdating:!1,mouse:0,size:0});function A(){var m,_;e.disabled||e.readonly||!e.drag||a.value||(d.value&&(h.size=((_=(m=s.value)==null?void 0:m.$el)==null?void 0:_.getBoundingClientRect().left)||0),h.mouse=c.value,h.start=Number(t.value),h.isUpdating=!0,h.isMoving=!1,a.value=!0)}const ue=$(()=>e.fixed===0?"numeric":"decimal");function ce(){var m,_,K;M.value=!0,(K=(_=(m=s.value)==null?void 0:m.$el)==null?void 0:_.querySelector("input"))==null||K.select()}function de(){M.value=!1,a.value=!1;let m=Number.parseFloat(l||"0");P(m)}Y(()=>t.value,()=>{M.value&&!h.isUpdating||ee()},{immediate:!0}),he(()=>!M.value,ee);function ee(){i.value=String(t.value),e.fixed&&e.keepZeroes&&(i.value=Number.parseFloat(i.value).toFixed(e.fixed))}return Y(()=>h.isUpdating&&y.value&&c.value,()=>{if(h.isUpdating){if(!h.isMoving&&h.isUpdating&&c.value!==h.mouse&&(h.isMoving=!0,a.value=!1),!y.value){h.isMoving=!1,h.isUpdating=!1;return}if(h.isMoving){if(d.value){P((c.value-h.size)*f.value+(e.min||0));return}P(h.start+(c.value-h.mouse)*f.value)}}}),(m,_)=>(p(),w(W,{ref_key:"input",ref:s,modelValue:g.value,"onUpdate:modelValue":_[0]||(_[0]=K=>g.value=K),class:E(["-fw-text-input",{movable:d.value,"no-drag":a.value||!m.drag}]),disabled:m.disabled,mode:ue.value,readonly:m.readonly,type:"number",onFocusin:ce,onFocusout:de,onMousedown:A},{default:x(()=>[d.value?(p(),b("div",Se,_[1]||(_[1]=[u("div",{class:"bar"},null,-1)]))):N("",!0)]),_:1},8,["modelValue","class","disabled","mode","readonly"]))}}),Ve=pe(Te,[["__scopeId","data-v-e99cc90a"]]);var O=(n=>(n.ANALYZER="analyzer",n.MIXER="mixer",n))(O||{});const q=Z({current:"analyzer"}),Ce={class:"menu-wrapper"},Ie=T({__name:"KMenu",setup(n){const e=[{id:O.ANALYZER,icon:"monitoring",label:"Analyzer"},{id:O.MIXER,icon:"blender",label:"Mixer"}];return(t,s)=>{const a=ke("RouterLink");return p(),b("div",Ce,[v(a,{class:"title",to:"/"},{default:x(()=>s[1]||(s[1]=[D(" Kaleidoscope ",-1)])),_:1,__:[1]}),v(o(_e),{modelValue:o(q).current,"onUpdate:modelValue":s[0]||(s[0]=l=>o(q).current=l),options:e},null,8,["modelValue"])])}}}),De=I(Ie,[["__scopeId","data-v-1c379e9c"]]),r=Z({playlists:[],selectedPlaylist:"",selectedPlaylists:[],tracks:[]}),B=Z({moveSource:""});function X(){let n=0;for(const e of r.tracks)n+=e.duration_ms,e.total_duration=n}const F=be("ks-local",{deployedPlaylists:!1}),z={playlists:{}};async function le(n){return z.playlists[n]||(z.playlists[n]=(await se(`/playlists/${n}/tracks?fields=next,items(track(id,popularity,name,artists(name),duration_ms,album(release_date,images(url))))`)).map(e=>e.track)),z.playlists[n]}async function re(){return z.userPlaylists||(z.userPlaylists=await se(`/users/${ae.value}/playlists`)),z.userPlaylists}const Fe={class:"filter"},Be=T({__name:"KPlaylists",setup(n){G(async()=>{r.playlists=await re()});function e(a){r.selectedPlaylist=a}const t=V(""),s=$(()=>r.playlists.filter(a=>a.name.toLowerCase().includes(t.value.toLowerCase())));return Me(()=>{r.selectedPlaylist=""}),(a,l)=>(p(),w(o(R),{class:"playlists-wrapper",depth:-2},{default:x(()=>[u("div",Fe,[v(o(S),{icon:o(F).deployedPlaylists?"expand_more":"chevron_right",squared:"",onClick:l[0]||(l[0]=i=>o(F).deployedPlaylists=!o(F).deployedPlaylists)},null,8,["icon"]),v(o(W),{modelValue:t.value,"onUpdate:modelValue":l[1]||(l[1]=i=>t.value=i),class:"text-input",icon:"search",placeholder:"Filter playlists"},null,8,["modelValue"])]),u("div",{class:E(["playlists",{expanded:o(F).deployedPlaylists}])},[(p(!0),b(U,null,J(s.value,i=>(p(),b("div",{key:i.id,class:"playlist"},[v(o(S),{icon:o(r).selectedPlaylist===i.id?"radio_button_checked":"radio_button_unchecked",type:o(r).selectedPlaylist===i.id?o(te).Primary:o(te).Default,onClick:M=>e(i.id)},{default:x(()=>[D(C(i.name),1)]),_:2},1032,["icon","type","onClick"])]))),128))],2)]),_:1}))}}),Ne=I(Be,[["__scopeId","data-v-f11049b4"]]),Ke={class:"percentage-display"},Le={class:"value"},Ee=T({__name:"KPercentageDisplay",props:{colorMax:{default:"#0000bb"},colorMin:{default:"#770000"},max:{default:1},min:{default:0},value:{}},setup(n){const e=n,t=$(()=>`${(e.value-e.min)/(e.max-e.min)*100}%`),s=$(()=>e.max===1?`${Math.round(e.value*100)}%`:Math.round(e.value)),a=$(()=>{const i=(e.value-e.min)/(e.max-e.min);return Math.min(1,Math.max(0,i))}),l=$(()=>`color-mix(in lch, ${e.colorMax} ${a.value*100}%, ${e.colorMin})`);return(i,M)=>(p(),b("div",Ke,[u("div",{class:"percentage",style:Pe({width:t.value,backgroundColor:l.value})},null,4),u("div",Le,C(s.value),1)]))}}),L=I(Ee,[["__scopeId","data-v-f337ce27"]]),ze=["draggable"],Ue={class:"index"},Ae={class:"time"},Re={class:"cover"},Oe={class:"cover-wrapper"},Ye=["src"],qe=["title"],Ze=["title"],Ge={key:1,class:"loading"},Je={key:1,class:"loading"},Xe={key:1,class:"loading"},He={key:1,class:"loading"},je=T({__name:"KTrack",props:{index:{},track:{}},setup(n){const e=n;$(()=>e.track.album&&e.track.artists&&e.track.features);function t(c){return new Date(c).getFullYear()}const s=V(!1);function a(){s.value=!0}function l(){B.moveSource=e.track.id}function i(){s.value=!1,B.moveSource=""}const M=V("");function g(c){M.value=c}function d(c){M.value===c&&(M.value="")}function k(c){if(B.moveSource!==e.track.id){const f=r.tracks.findIndex(A=>A.id===B.moveSource),P=r.tracks[f];r.tracks.splice(f,1);const h=r.tracks.findIndex(A=>A.id===e.track.id);r.tracks.splice(h+(c==="before"?0:1),0,P),X()}M.value="",s.value=!1,B.moveSource=""}function y(c){const f=Math.floor(c/36e5),P=Math.floor(c%36e5/6e4);return`${f}:${P.toString().padStart(2,"0")}`}return(c,f)=>(p(),b("tr",{class:E(["track",{dragging:s.value}]),draggable:s.value,onDragend:i,onDragstart:l},[u("td",{class:"drag",onMousedown:H(a,["stop"])},[v(o($e),{icon:"drag_indicator"})],32),u("td",Ue,C(c.index+1),1),u("td",Ae,C(y(c.track.total_duration)),1),u("td",Re,[u("div",Oe,[u("img",{alt:"Album cover",src:c.track.album.images[0]?.url},null,8,Ye)])]),u("td",null,[u("div",{class:"big",title:c.track.name},C(c.track.name),9,qe)]),u("td",null,[u("div",{class:"big",title:c.track.artists[0].name},C(c.track.artists[0].name),9,Ze)]),u("td",null,[v(L,{max:2025,min:1980,value:t(c.track.album.release_date)},null,8,["value"])]),u("td",null,[v(L,{value:c.track.popularity/100},null,8,["value"])]),u("td",null,[c.track.features?(p(),w(L,{key:0,max:160,min:80,value:c.track.features.tempo},null,8,["value"])):(p(),b("span",Ge,"Loading..."))]),u("td",null,[c.track.features?(p(),w(L,{key:0,value:c.track.features.danceability},null,8,["value"])):(p(),b("span",Je,"Loading..."))]),u("td",null,[c.track.features?(p(),w(L,{key:0,value:c.track.features.energy},null,8,["value"])):(p(),b("span",Xe,"Loading..."))]),u("td",null,[c.track.features?(p(),w(L,{key:0,value:c.track.features.valence},null,8,["value"])):(p(),b("span",He,"Loading..."))]),o(B).moveSource?(p(),b("div",{key:0,class:E(["drop-zone before",{hover:M.value==="before"}]),onDragenter:f[0]||(f[0]=P=>g("before")),onDragleave:f[1]||(f[1]=P=>d("before")),onDragover:f[2]||(f[2]=H(()=>{},["prevent"])),onDrop:f[3]||(f[3]=P=>k("before"))},f[8]||(f[8]=[u("div",{class:"insert-line"},null,-1)]),34)):N("",!0),o(B).moveSource?(p(),b("div",{key:1,class:E(["drop-zone after",{hover:M.value==="after"}]),onDragenter:f[4]||(f[4]=P=>g("after")),onDragleave:f[5]||(f[5]=P=>d("after")),onDragover:f[6]||(f[6]=H(()=>{},["prevent"])),onDrop:f[7]||(f[7]=P=>k("after"))},f[9]||(f[9]=[u("div",{class:"insert-line"},null,-1)]),34)):N("",!0)],42,ze))}}),Qe=I(je,[["__scopeId","data-v-d9109fef"]]);class We{tracks=[];thresholds={energy:0,popular:0,retro:0,speed:0};constructor(e){this.tracks=[...e]}generateThresholds(){this.tracks.sort((e,t)=>e.popularity-t.popularity),this.thresholds.popular=this.tracks[Math.floor(this.tracks.length*.5)].popularity,this.tracks.sort((e,t)=>e.features.energy-t.features.energy),this.thresholds.energy=this.tracks[Math.floor(this.tracks.length*.5)].features.energy,this.tracks.sort((e,t)=>e.features.tempo-t.features.tempo),this.thresholds.speed=this.tracks[Math.floor(this.tracks.length*.5)].features.tempo,this.tracks.sort((e,t)=>e.album.release_date.localeCompare(t.album.release_date)),this.thresholds.retro=new Date(this.tracks[Math.floor(this.tracks.length*.5)].album.release_date).getFullYear()}removeTrack(e){this.tracks.splice(this.tracks.indexOf(e),1)}getTrack(e){let t=[...this.tracks];if(e.filter.retro){const s=t.filter(a=>new Date(a.album.release_date).getFullYear()*e.filter.retro<=this.thresholds.retro*e.filter.retro);t=s.length?s:t}if(e.filter.speed){const s=t.filter(a=>a.features.tempo*e.filter.speed>=this.thresholds.speed*e.filter.speed);t=s.length?s:t}if(e.filter.popular){const s=t.filter(a=>a.popularity*e.filter.popular>=this.thresholds.popular*e.filter.popular);t=s.length?s:t}if(e.filter.energy){const s=t.filter(a=>a.features.energy*e.filter.energy>=this.thresholds.energy*e.filter.energy);t=s.length?s:t}if(e.limit.retro){t.sort((a,l)=>(new Date(a.album.release_date).getFullYear()-new Date(l.album.release_date).getFullYear())*e.limit.retro);const s=Math.floor(t.length*Math.abs(e.limit.retro));t.length=s||1}if(e.limit.speed){t.sort((a,l)=>(l.features.tempo-a.features.tempo)*e.limit.speed);const s=Math.floor(t.length*Math.abs(e.limit.speed));t.length=s||1}if(e.limit.popular){t.sort((a,l)=>(l.popularity-a.popularity)*e.limit.popular);const s=Math.floor(t.length*Math.abs(e.limit.popular));t.length=s||1}if(e.limit.energy){t.sort((a,l)=>(l.features.energy-a.features.energy)*e.limit.energy);const s=Math.floor(t.length*Math.abs(e.limit.energy));t.length=s||1}return t[Math.floor(t.length*Math.random())]}getSafeTrack(e){const t=e??this.tracks[Math.floor(this.tracks.length*Math.random())];return this.removeTrack(t),t}}function et(){const n=[...r.tracks];for(r.tracks=[];n.length;){const e=Math.floor(Math.random()*n.length);r.tracks.push(n.splice(e,1)[0])}X()}function tt(){const n=new We(r.tracks);n.generateThresholds();const e=[],t=r.tracks.reduce((M,g)=>M+g.duration_ms,0);let s=0,a;a=n.getSafeTrack(n.getTrack({filter:{energy:1,popular:1,retro:-1},limit:{energy:.8}})),s+=a.duration_ms,e.push(a);let l=!1,i=!1;for(;s<t*.1;)i?i=!1:i=Math.random()>.25,a=n.getSafeTrack(n.getTrack({filter:{retro:i?1:-1,speed:l?-1:1},limit:{energy:.75,popular:.5,speed:.5}})),e.push(a),s+=a.duration_ms,l=!l;for(n.generateThresholds();s<t*.5;)i?i=!1:i=Math.random()>.25,a=n.getSafeTrack(n.getTrack({filter:{retro:i?1:-1,speed:l?-1:1},limit:{energy:.75,popular:.75,retro:Math.random()>.5?.25:0,speed:Math.random()>.5?.5:0}})),e.push(a),s+=a.duration_ms,l=!l;for(n.generateThresholds();s<t*.8;)i?i=!1:i=Math.random()>.25,a=n.getSafeTrack(n.getTrack({filter:{retro:i?1:0,speed:l?-1:1},limit:{energy:.75,popular:Math.random()>.5?.75:0,retro:Math.random()>.5?.25:0,speed:Math.random()>.5?.75:0}})),e.push(a),s+=a.duration_ms,l=!l;for(n.generateThresholds();n.tracks.length;)a=n.getSafeTrack(n.getTrack({filter:{speed:l?-1:1},limit:{}})),e.push(a),s+=a.duration_ms,l=!l;r.tracks=e,X()}async function ne(n,e){for(let t=0;t<e.length;t+=100)await Q(`/playlists/${n}/tracks`,{body:JSON.stringify({tracks:e.slice(t,t+100).map(s=>({uri:`spotify:track:${s}`}))}),method:"DELETE"});for(let t=0;t<e.length;t+=100)await Q(`/playlists/${n}/tracks`,{body:JSON.stringify({uris:e.slice(t,t+100).map(s=>`spotify:track:${s}`)}),method:"POST"})}async function at(n,e){const{id:t}=await Q(`/users/${ae.value}/playlists`,{body:JSON.stringify({name:n||"KS Export"}),method:"POST"});await ne(t,e)}const st={class:"tracks-wrapper"},lt={class:"buttons"},rt=T({__name:"KTracks",setup(n){async function e(){const s=r.tracks.map(a=>a.id);await ne(r.selectedPlaylist,s),alert("Playlist saved!")}async function t(){if(r.tracks.length===0){alert("No tracks to export!");return}let s=prompt("Enter playlist name");if(s===null)return;s||="KS Export";const a=r.tracks.map(l=>l.id);await at(s,a),alert("Playlist exported!")}return(s,a)=>(p(),b("div",st,[u("table",null,[a[0]||(a[0]=u("tr",{class:"head"},[u("th",{colspan:"4"}),u("th",{class:"big"}," Name "),u("th",{class:"big"}," Artist "),u("th",{class:"value"}," Release "),u("th",{class:"value"}," Popularity "),u("th",{class:"value"}," Tempo "),u("th",{class:"value"}," Dance "),u("th",{class:"value"}," Energy "),u("th",{class:"value"}," Positive ")],-1)),(p(!0),b(U,null,J(o(r).tracks,(l,i)=>(p(),w(Qe,{key:l.id,index:i,track:l},null,8,["index","track"]))),128))]),u("div",lt,[o(r).selectedPlaylist?(p(),w(o(S),{key:0,icon:"save",onClick:e},{default:x(()=>a[1]||(a[1]=[D(" Save playlist ",-1)])),_:1,__:[1]})):N("",!0),v(o(S),{icon:"publish",onClick:t},{default:x(()=>a[2]||(a[2]=[D(" Export playlist ",-1)])),_:1,__:[2]}),v(o(S),{icon:"shuffle",onClick:o(et)},{default:x(()=>a[3]||(a[3]=[D(" Shuffle ",-1)])),_:1,__:[3]},8,["onClick"]),v(o(S),{icon:"category",onClick:o(tt)},{default:x(()=>a[4]||(a[4]=[D(" Smart sort ",-1)])),_:1,__:[4]},8,["onClick"])])]))}}),oe=I(rt,[["__scopeId","data-v-8399fc64"]]);async function ie(){X()}const nt=T({__name:"KLayoutAnalyzer",setup(n){return G(async()=>{r.tracks=[]}),Y(()=>r.selectedPlaylist,async e=>{e&&(r.tracks=await le(e),await ie())},{flush:"sync"}),(e,t)=>(p(),b(U,null,[v(Ne),v(oe)],64))}}),ot={class:"filter"},it=T({__name:"KPlaylistsMultiple",setup(n){G(async()=>{r.playlists=await re()});function e(a){r.selectedPlaylists.push(a)}const t=V(""),s=$(()=>r.playlists.filter(a=>a.name.toLowerCase().includes(t.value.toLowerCase())));return(a,l)=>(p(),w(o(R),{class:"playlists-wrapper",depth:-2},{default:x(()=>[u("div",ot,[v(o(S),{icon:o(F).deployedPlaylists?"expand_more":"chevron_right",squared:"",onClick:l[0]||(l[0]=i=>o(F).deployedPlaylists=!o(F).deployedPlaylists)},null,8,["icon"]),v(o(W),{modelValue:t.value,"onUpdate:modelValue":l[1]||(l[1]=i=>t.value=i),class:"text-input",icon:"search",placeholder:"Filter playlists"},null,8,["modelValue"])]),u("div",{class:E(["playlists",{expanded:o(F).deployedPlaylists}])},[(p(!0),b(U,null,J(s.value,i=>(p(),b("div",{key:i.id,class:"playlist"},[v(o(S),{icon:"add",onClick:M=>e(i.id)},{default:x(()=>[D(C(i.name),1)]),_:2},1032,["onClick"])]))),128))],2)]),_:1}))}}),ut=I(it,[["__scopeId","data-v-63198692"]]),ct={class:"options"},dt={class:"option"},pt={class:"form"},mt={class:"option"},ft={class:"form"},vt={class:"option"},yt={class:"form"},gt=T({__name:"KMixer",setup(n){const e=[{id:"BackToBack",label:"Back to back"},{id:"Interleaved",label:"Interleaved"},{id:"Progress",label:"Progress"}],t=V("BackToBack"),s=V(!0),a=V(0),l=$(()=>{const g=Math.floor(a.value/60),d=a.value%60;return`${g}h ${d}m`});async function i(){if(r.selectedPlaylists.length<1){alert("Select at least one playlist to merge");return}r.tracks=[];const g=[];for(const d of r.selectedPlaylists)g.push(await le(d));switch(t.value){case"BackToBack":if(r.tracks=g.flat(),s.value){const d=new Set;r.tracks=r.tracks.filter(k=>d.has(k.id)?!1:(d.add(k.id),!0))}break;case"Interleaved":{const d=Math.max(...g.map(y=>y.length)),k=new Set;for(let y=0;y<d;y++)for(const c of g){for(;s.value&&c[y]&&k.has(c[y].id);)c.splice(y,1);c[y]&&(r.tracks.push(c[y]),k.add(c[y].id))}}break;case"Progress":await M(g)}if(a.value>0)for(;r.tracks.reduce((d,k)=>d+k.duration_ms,0)>a.value*60*1e3;)r.tracks.splice(Math.floor(Math.random()*r.tracks.length),1);await ie()}async function M(g){const d=[],k=new Set;for(const y of g){const c=y.reduce((P,h)=>P+h.duration_ms,0);let f=0;for(const P of y)d.push({progress:f/c,track:P}),f+=P.duration_ms}for(const y of d){if(s.value&&k.has(y.track.id)){d.splice(d.indexOf(y),1);continue}k.add(y.track.id)}d.sort((y,c)=>y.progress-c.progress),r.tracks=d.map(y=>y.track)}return(g,d)=>(p(),w(o(R),{class:"mixer-wrapper",depth:-2},{default:x(()=>[u("div",ct,[u("div",dt,[d[3]||(d[3]=u("div",{class:"name"}," Mix mode ",-1)),u("div",pt,[v(o(we),{modelValue:t.value,"onUpdate:modelValue":d[0]||(d[0]=k=>t.value=k),class:"select",options:e},null,8,["modelValue"])])]),u("div",mt,[d[4]||(d[4]=u("div",{class:"name"}," Target duration (0 to disable) ",-1)),u("div",ft,[v(o(Ve),{modelValue:a.value,"onUpdate:modelValue":d[1]||(d[1]=k=>a.value=k),clamp:"",class:"time",fixed:0,max:300,min:0,step:5,suffix:"min"},null,8,["modelValue"]),u("span",null,"("+C(l.value)+")",1)])]),u("div",vt,[d[5]||(d[5]=u("div",{class:"name"}," Remove duplicates ",-1)),u("div",yt,[v(o(xe),{modelValue:s.value,"onUpdate:modelValue":d[2]||(d[2]=k=>s.value=k)},null,8,["modelValue"])])])]),v(o(S),{icon:"manufacturing",onClick:i},{default:x(()=>d[6]||(d[6]=[D(" Generate ",-1)])),_:1,__:[6]})]),_:1}))}}),ht=I(gt,[["__scopeId","data-v-97571f71"]]),kt={key:0,class:"playlist"},_t={class:"name"},bt={class:"actions"},Mt=T({__name:"KPlaylistsViewer",setup(n){const e=$(()=>r.playlists.reduce((l,i)=>(l[i.id]=i,l),{}));function t(l){if(l===0)return;const i=r.selectedPlaylists[l];r.selectedPlaylists[l]=r.selectedPlaylists[l-1],r.selectedPlaylists[l-1]=i}function s(l){if(l===r.selectedPlaylists.length-1)return;const i=r.selectedPlaylists[l];r.selectedPlaylists[l]=r.selectedPlaylists[l+1],r.selectedPlaylists[l+1]=i}function a(l){r.selectedPlaylists.splice(l,1)}return(l,i)=>(p(),w(o(R),{class:"playlists-viewer",depth:-2},{default:x(()=>[o(r).selectedPlaylists.length===0?(p(),b("div",kt," No playlist selected ")):N("",!0),(p(!0),b(U,null,J(o(r).selectedPlaylists,(M,g)=>(p(),w(o(R),{key:g,class:"playlist"},{default:x(()=>[u("div",_t,C(e.value[M].name),1),u("div",bt,[v(o(S),{icon:"arrow_back",size:o(j).Small,squared:"",onClick:d=>t(g)},null,8,["size","onClick"]),v(o(S),{icon:"arrow_forward",size:o(j).Small,squared:"",onClick:d=>s(g)},null,8,["size","onClick"]),v(o(S),{icon:"delete",size:o(j).Small,squared:"",onClick:d=>a(g)},null,8,["size","onClick"])])]),_:2},1024))),128))]),_:1}))}}),Pt=I(Mt,[["__scopeId","data-v-50746a49"]]),$t=T({__name:"KLayoutMixer",setup(n){return G(async()=>{r.tracks=[]}),(e,t)=>(p(),b(U,null,[v(ut),v(Pt),v(ht),v(oe)],64))}}),wt={class:"layout"},xt=T({__name:"KBuilderLayout",setup(n){return(e,t)=>(p(),b("div",wt,[v(De),o(q).current===o(O).ANALYZER?(p(),w(nt,{key:0})):N("",!0),o(q).current===o(O).MIXER?(p(),w($t,{key:1})):N("",!0)]))}}),Vt=I(xt,[["__scopeId","data-v-7e5f33db"]]);export{Vt as default};
