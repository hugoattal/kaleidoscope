import{s as d,a as u,_ as f}from"./_plugin-vue_export-helper-CW8dRx5a.js";import{u as p,d as m,v as o,e as y,f as _,m as c,P as v,C as g}from"./index-IYjx4zwS.js";const t={features:{},playlists:{}};async function b(s){return t.playlists[s]||(t.playlists[s]=(await u(`/playlists/${s}/tracks?fields=next,items(track(id,popularity,name,artists(name),duration_ms,album(release_date,images(url))))`)).map(a=>a.track)),t.playlists[s]}async function w(){return t.userPlaylists||(t.userPlaylists=await u(`/users/${p.value}/playlists`)),t.userPlaylists}async function C(s){const a=s.filter(e=>!t.features[e.id]);for(let e=0;e<a.length;e+=100){const i=(await d(`/audio-features?ids=${a.slice(e,e+100).map(r=>r.id).join(",")}`)).audio_features;for(const r of i)t.features[r.id]=r}for(const e of s)e.features=t.features[e.id]}const h={class:"percentage-display"},x={class:"value"},k=m({__name:"KPercentageDisplay",props:{colorMax:{default:"#0000bb"},colorMin:{default:"#770000"},max:{default:1},min:{default:0},value:{}},setup(s){const a=s,e=o(()=>`${(a.value-a.min)/(a.max-a.min)*100}%`),n=o(()=>a.max===1?`${Math.round(a.value*100)}%`:Math.round(a.value)),i=o(()=>{const l=(a.value-a.min)/(a.max-a.min);return Math.min(1,Math.max(0,l))}),r=o(()=>`color-mix(in lch, ${a.colorMax} ${i.value*100}%, ${a.colorMin})`);return(l,M)=>(y(),_("div",h,[c("div",{class:"percentage",style:v({width:e.value,backgroundColor:r.value})},null,4),c("div",x,g(n.value),1)]))}}),A=f(k,[["__scopeId","data-v-f337ce27"]]);export{A as K,C as a,b,t as c,w as g};
