var de=Object.defineProperty;var ce=(n,e,t)=>e in n?de(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var X=(n,e,t)=>ce(n,typeof e!="symbol"?e+"":e,t);import{_ as pe,d as T,m as me,k as fe,l as w,n as ve,p as ye,q as V,s as O,t as ge,v as q,x as he,j as $,e as p,w as x,c as b,y as N,i as u,z as E,A as W,r as ke,f as y,g as D,u as o,B as _e,C as be,o as Z,D as Me,E as A,F as S,G as z,H as G,I as te,J as C,K as Pe,L as H,M as we,N as $e,O as xe,P as Se,Q as j}from"./index-_aerVxHo.js";import{_ as I,s as Q}from"./_plugin-vue_export-helper-CMgYeyZJ.js";import{g as ae,a as Te,b as se}from"./cache-C4DFpJ_t.js";/*!
* @ferris-wheel/design v1.16.0
* (c) 2025 Hugo Attal
*/const Ve={key:0,class:"min-max"},Ce=T({__name:"FNumberInput",props:me({clamp:{type:Boolean},disabled:{type:Boolean},drag:{type:Boolean},fixed:{},keepZeroes:{type:Boolean},max:{},min:{},readonly:{type:Boolean},step:{},stride:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(n){fe(m=>({"8bc54f54":k.value}));const e=n,t=ve(n,"modelValue"),s=ye("input"),a=V(!1);let l;O(()=>t.value,m=>{l=String(m)},{immediate:!0});const i=V(String(t.value)),M=V(!1),h=w({get:()=>i.value,set:m=>{m=m.replace(/\s/g,"").replace(/,/g,"."),l=m;let _=Number.parseFloat(m);isNaN(_)||m===""||(e.clamp&&(_=Math.max(e.min??-1/0,Math.min(e.max??1/0,_))),t.value=_)}}),c=w(()=>e.min!==void 0&&e.max!==void 0),k=w(()=>{const m=Number.parseFloat(t.value||0),_=e.min,K=e.max;return Math.max(0,Math.min(100,(m-_)/(K-_)*100))}),{pressure:g,x:d}=ge(),f=w(()=>{var m,_;return e.stride?1/e.stride:c.value?(e.max-e.min)/(((_=(m=s.value)==null?void 0:m.$el)==null?void 0:_.clientWidth)||1):1});function P(m){e.clamp&&(m=Math.max(e.min??-1/0,Math.min(e.max??1/0,m))),e.step&&(m=Math.round(m/e.step)*e.step),e.fixed!==void 0&&(m=Number(m.toFixed(e.fixed))),t.value=m}const v=q({start:0,isMoving:!1,isUpdating:!1,mouse:0,size:0});function U(){var m,_;e.disabled||e.readonly||!e.drag||a.value||(c.value&&(v.size=((_=(m=s.value)==null?void 0:m.$el)==null?void 0:_.getBoundingClientRect().left)||0),v.mouse=d.value,v.start=Number(t.value),v.isUpdating=!0,v.isMoving=!1,a.value=!0)}const oe=w(()=>e.fixed===0?"numeric":"decimal");function ie(){var m,_,K;M.value=!0,(K=(_=(m=s.value)==null?void 0:m.$el)==null?void 0:_.querySelector("input"))==null||K.select()}function ue(){M.value=!1,a.value=!1;let m=Number.parseFloat(l||"0");P(m)}O(()=>t.value,()=>{M.value&&!v.isUpdating||ee()},{immediate:!0}),he(()=>!M.value,ee);function ee(){i.value=String(t.value),e.fixed&&e.keepZeroes&&(i.value=Number.parseFloat(i.value).toFixed(e.fixed))}return O(()=>v.isUpdating&&g.value&&d.value,()=>{if(v.isUpdating){if(!v.isMoving&&v.isUpdating&&d.value!==v.mouse&&(v.isMoving=!0,a.value=!1),!g.value){v.isMoving=!1,v.isUpdating=!1;return}if(v.isMoving){if(c.value){P((d.value-v.size)*f.value+(e.min||0));return}P(v.start+(d.value-v.mouse)*f.value)}}}),(m,_)=>(p(),$(W,{ref_key:"input",ref:s,modelValue:h.value,"onUpdate:modelValue":_[0]||(_[0]=K=>h.value=K),class:E(["-fw-text-input",{movable:c.value,"no-drag":a.value||!m.drag}]),disabled:m.disabled,mode:oe.value,readonly:m.readonly,type:"number",onFocusin:ie,onFocusout:ue,onMousedown:U},{default:x(()=>[c.value?(p(),b("div",Ve,_[1]||(_[1]=[u("div",{class:"bar"},null,-1)]))):N("",!0)]),_:1},8,["modelValue","class","disabled","mode","readonly"]))}}),Ie=pe(Ce,[["__scopeId","data-v-e99cc90a"]]);var R=(n=>(n.ANALYZER="analyzer",n.MIXER="mixer",n))(R||{});const Y=q({current:"analyzer"}),De={class:"menu-wrapper"},Fe=T({__name:"KMenu",setup(n){const e=[{id:R.ANALYZER,icon:"monitoring",label:"Analyzer"},{id:R.MIXER,icon:"blender",label:"Mixer"}];return(t,s)=>{const a=ke("RouterLink");return p(),b("div",De,[y(a,{class:"title",to:"/"},{default:x(()=>s[1]||(s[1]=[D(" Kaleidoscope ")])),_:1}),y(o(_e),{modelValue:o(Y).current,"onUpdate:modelValue":s[0]||(s[0]=l=>o(Y).current=l),options:e},null,8,["modelValue"])])}}}),Be=I(Fe,[["__scopeId","data-v-1c379e9c"]]),r=q({playlists:[],selectedPlaylist:"",selectedPlaylists:[],tracks:[]}),B=q({moveSource:""});function J(){let n=0;for(const e of r.tracks)n+=e.duration_ms,e.total_duration=n}const F=be("ks-local",{deployedPlaylists:!1}),Ne={class:"filter"},Ke=T({__name:"KPlaylists",setup(n){Z(async()=>{r.playlists=await ae()});function e(a){r.selectedPlaylist=a}const t=V(""),s=w(()=>r.playlists.filter(a=>a.name.toLowerCase().includes(t.value.toLowerCase())));return Me(()=>{r.selectedPlaylist=""}),(a,l)=>(p(),$(o(A),{class:"playlists-wrapper",depth:-2},{default:x(()=>[u("div",Ne,[y(o(S),{icon:o(F).deployedPlaylists?"expand_more":"chevron_right",squared:"",onClick:l[0]||(l[0]=i=>o(F).deployedPlaylists=!o(F).deployedPlaylists)},null,8,["icon"]),y(o(W),{modelValue:t.value,"onUpdate:modelValue":l[1]||(l[1]=i=>t.value=i),class:"text-input",icon:"search",placeholder:"Filter playlists"},null,8,["modelValue"])]),u("div",{class:E(["playlists",{expanded:o(F).deployedPlaylists}])},[(p(!0),b(z,null,G(s.value,i=>(p(),b("div",{key:i.id,class:"playlist"},[y(o(S),{icon:o(r).selectedPlaylist===i.id?"radio_button_checked":"radio_button_unchecked",type:o(r).selectedPlaylist===i.id?o(te).Primary:o(te).Default,onClick:M=>e(i.id)},{default:x(()=>[D(C(i.name),1)]),_:2},1032,["icon","type","onClick"])]))),128))],2)]),_:1}))}}),Le=I(Ke,[["__scopeId","data-v-f11049b4"]]),Ee={class:"percentage-display"},ze={class:"value"},Ue=T({__name:"KPercentageDisplay",props:{colorMax:{default:"#0000bb"},colorMin:{default:"#770000"},max:{default:1},min:{default:0},value:{}},setup(n){const e=n,t=w(()=>`${(e.value-e.min)/(e.max-e.min)*100}%`),s=w(()=>e.max===1?`${Math.round(e.value*100)}%`:Math.round(e.value)),a=w(()=>{const i=(e.value-e.min)/(e.max-e.min);return Math.min(1,Math.max(0,i))}),l=w(()=>`color-mix(in lch, ${e.colorMax} ${a.value*100}%, ${e.colorMin})`);return(i,M)=>(p(),b("div",Ee,[u("div",{class:"percentage",style:Pe({width:t.value,backgroundColor:l.value})},null,4),u("div",ze,C(s.value),1)]))}}),L=I(Ue,[["__scopeId","data-v-f337ce27"]]),Ae=["draggable"],Re={class:"index"},Oe={class:"time"},Ye={class:"cover"},qe={class:"cover-wrapper"},Ze=["src"],Ge=["title"],Je=["title"],Xe={key:1,class:"loading"},He={key:1,class:"loading"},je={key:1,class:"loading"},Qe={key:1,class:"loading"},We=T({__name:"KTrack",props:{index:{},track:{}},setup(n){const e=n;w(()=>e.track.album&&e.track.artists&&e.track.features);function t(d){return new Date(d).getFullYear()}const s=V(!1);function a(){s.value=!0}function l(){B.moveSource=e.track.id}function i(){s.value=!1,B.moveSource=""}const M=V("");function h(d){M.value=d}function c(d){M.value===d&&(M.value="")}function k(d){if(B.moveSource!==e.track.id){const f=r.tracks.findIndex(U=>U.id===B.moveSource),P=r.tracks[f];r.tracks.splice(f,1);const v=r.tracks.findIndex(U=>U.id===e.track.id);r.tracks.splice(v+(d==="before"?0:1),0,P),J()}M.value="",s.value=!1,B.moveSource=""}function g(d){const f=Math.floor(d/36e5),P=Math.floor(d%36e5/6e4);return`${f}:${P.toString().padStart(2,"0")}`}return(d,f)=>{var P;return p(),b("tr",{class:E(["track",{dragging:s.value}]),draggable:s.value,onDragend:i,onDragstart:l},[u("td",{class:"drag",onMousedown:H(a,["stop"])},[y(o(we),{icon:"drag_indicator"})],32),u("td",Re,C(d.index+1),1),u("td",Oe,C(g(d.track.total_duration)),1),u("td",Ye,[u("div",qe,[u("img",{alt:"Album cover",src:(P=d.track.album.images[0])==null?void 0:P.url},null,8,Ze)])]),u("td",null,[u("div",{class:"big",title:d.track.name},C(d.track.name),9,Ge)]),u("td",null,[u("div",{class:"big",title:d.track.artists[0].name},C(d.track.artists[0].name),9,Je)]),u("td",null,[y(L,{max:2025,min:1980,value:t(d.track.album.release_date)},null,8,["value"])]),u("td",null,[y(L,{value:d.track.popularity/100},null,8,["value"])]),u("td",null,[d.track.features?(p(),$(L,{key:0,max:160,min:80,value:d.track.features.tempo},null,8,["value"])):(p(),b("span",Xe,"Loading..."))]),u("td",null,[d.track.features?(p(),$(L,{key:0,value:d.track.features.danceability},null,8,["value"])):(p(),b("span",He,"Loading..."))]),u("td",null,[d.track.features?(p(),$(L,{key:0,value:d.track.features.energy},null,8,["value"])):(p(),b("span",je,"Loading..."))]),u("td",null,[d.track.features?(p(),$(L,{key:0,value:d.track.features.valence},null,8,["value"])):(p(),b("span",Qe,"Loading..."))]),o(B).moveSource?(p(),b("div",{key:0,class:E(["drop-zone before",{hover:M.value==="before"}]),onDragenter:f[0]||(f[0]=v=>h("before")),onDragleave:f[1]||(f[1]=v=>c("before")),onDragover:f[2]||(f[2]=H(()=>{},["prevent"])),onDrop:f[3]||(f[3]=v=>k("before"))},f[8]||(f[8]=[u("div",{class:"insert-line"},null,-1)]),34)):N("",!0),o(B).moveSource?(p(),b("div",{key:1,class:E(["drop-zone after",{hover:M.value==="after"}]),onDragenter:f[4]||(f[4]=v=>h("after")),onDragleave:f[5]||(f[5]=v=>c("after")),onDragover:f[6]||(f[6]=H(()=>{},["prevent"])),onDrop:f[7]||(f[7]=v=>k("after"))},f[9]||(f[9]=[u("div",{class:"insert-line"},null,-1)]),34)):N("",!0)],42,Ae)}}}),et=I(We,[["__scopeId","data-v-d9109fef"]]);class tt{constructor(e){X(this,"tracks",[]);X(this,"thresholds",{energy:0,popular:0,retro:0,speed:0});this.tracks=[...e]}generateThresholds(){this.tracks.sort((e,t)=>e.popularity-t.popularity),this.thresholds.popular=this.tracks[Math.floor(this.tracks.length*.5)].popularity,this.tracks.sort((e,t)=>e.features.energy-t.features.energy),this.thresholds.energy=this.tracks[Math.floor(this.tracks.length*.5)].features.energy,this.tracks.sort((e,t)=>e.features.tempo-t.features.tempo),this.thresholds.speed=this.tracks[Math.floor(this.tracks.length*.5)].features.tempo,this.tracks.sort((e,t)=>e.album.release_date.localeCompare(t.album.release_date)),this.thresholds.retro=new Date(this.tracks[Math.floor(this.tracks.length*.5)].album.release_date).getFullYear()}removeTrack(e){this.tracks.splice(this.tracks.indexOf(e),1)}getTrack(e){let t=[...this.tracks];if(e.filter.retro){const s=t.filter(a=>new Date(a.album.release_date).getFullYear()*e.filter.retro<=this.thresholds.retro*e.filter.retro);t=s.length?s:t}if(e.filter.speed){const s=t.filter(a=>a.features.tempo*e.filter.speed>=this.thresholds.speed*e.filter.speed);t=s.length?s:t}if(e.filter.popular){const s=t.filter(a=>a.popularity*e.filter.popular>=this.thresholds.popular*e.filter.popular);t=s.length?s:t}if(e.filter.energy){const s=t.filter(a=>a.features.energy*e.filter.energy>=this.thresholds.energy*e.filter.energy);t=s.length?s:t}if(e.limit.retro){t.sort((a,l)=>(new Date(a.album.release_date).getFullYear()-new Date(l.album.release_date).getFullYear())*e.limit.retro);const s=Math.floor(t.length*Math.abs(e.limit.retro));t.length=s||1}if(e.limit.speed){t.sort((a,l)=>(l.features.tempo-a.features.tempo)*e.limit.speed);const s=Math.floor(t.length*Math.abs(e.limit.speed));t.length=s||1}if(e.limit.popular){t.sort((a,l)=>(l.popularity-a.popularity)*e.limit.popular);const s=Math.floor(t.length*Math.abs(e.limit.popular));t.length=s||1}if(e.limit.energy){t.sort((a,l)=>(l.features.energy-a.features.energy)*e.limit.energy);const s=Math.floor(t.length*Math.abs(e.limit.energy));t.length=s||1}return t[Math.floor(t.length*Math.random())]}getSafeTrack(e){const t=e??this.tracks[Math.floor(this.tracks.length*Math.random())];return this.removeTrack(t),t}}function at(){const n=[...r.tracks];for(r.tracks=[];n.length;){const e=Math.floor(Math.random()*n.length);r.tracks.push(n.splice(e,1)[0])}J()}function st(){const n=new tt(r.tracks);n.generateThresholds();const e=[],t=r.tracks.reduce((M,h)=>M+h.duration_ms,0);let s=0,a;a=n.getSafeTrack(n.getTrack({filter:{energy:1,popular:1,retro:-1},limit:{energy:.8}})),s+=a.duration_ms,e.push(a);let l=!1,i=!1;for(;s<t*.1;)i?i=!1:i=Math.random()>.25,a=n.getSafeTrack(n.getTrack({filter:{retro:i?1:-1,speed:l?-1:1},limit:{energy:.75,popular:.5,speed:.5}})),e.push(a),s+=a.duration_ms,l=!l;for(n.generateThresholds();s<t*.5;)i?i=!1:i=Math.random()>.25,a=n.getSafeTrack(n.getTrack({filter:{retro:i?1:-1,speed:l?-1:1},limit:{energy:.75,popular:.75,retro:Math.random()>.5?.25:0,speed:Math.random()>.5?.5:0}})),e.push(a),s+=a.duration_ms,l=!l;for(n.generateThresholds();s<t*.8;)i?i=!1:i=Math.random()>.25,a=n.getSafeTrack(n.getTrack({filter:{retro:i?1:0,speed:l?-1:1},limit:{energy:.75,popular:Math.random()>.5?.75:0,retro:Math.random()>.5?.25:0,speed:Math.random()>.5?.75:0}})),e.push(a),s+=a.duration_ms,l=!l;for(n.generateThresholds();n.tracks.length;)a=n.getSafeTrack(n.getTrack({filter:{speed:l?-1:1},limit:{}})),e.push(a),s+=a.duration_ms,l=!l;r.tracks=e,J()}async function le(n,e){for(let t=0;t<e.length;t+=100)await Q(`/playlists/${n}/tracks`,{body:JSON.stringify({tracks:e.slice(t,t+100).map(s=>({uri:`spotify:track:${s}`}))}),method:"DELETE"});for(let t=0;t<e.length;t+=100)await Q(`/playlists/${n}/tracks`,{body:JSON.stringify({uris:e.slice(t,t+100).map(s=>`spotify:track:${s}`)}),method:"POST"})}async function lt(n,e){const{id:t}=await Q(`/users/${$e.value}/playlists`,{body:JSON.stringify({name:n||"KS Export"}),method:"POST"});await le(t,e)}const rt={class:"tracks-wrapper"},nt={class:"buttons"},ot=T({__name:"KTracks",setup(n){async function e(){const s=r.tracks.map(a=>a.id);await le(r.selectedPlaylist,s),alert("Playlist saved!")}async function t(){if(r.tracks.length===0){alert("No tracks to export!");return}let s=prompt("Enter playlist name");if(s===null)return;s||(s="KS Export");const a=r.tracks.map(l=>l.id);await lt(s,a),alert("Playlist exported!")}return(s,a)=>(p(),b("div",rt,[u("table",null,[a[0]||(a[0]=u("tr",{class:"head"},[u("th",{colspan:"4"}),u("th",{class:"big"}," Name "),u("th",{class:"big"}," Artist "),u("th",{class:"value"}," Release "),u("th",{class:"value"}," Popularity "),u("th",{class:"value"}," Tempo "),u("th",{class:"value"}," Dance "),u("th",{class:"value"}," Energy "),u("th",{class:"value"}," Positive ")],-1)),(p(!0),b(z,null,G(o(r).tracks,(l,i)=>(p(),$(et,{key:l.id,index:i,track:l},null,8,["index","track"]))),128))]),u("div",nt,[o(r).selectedPlaylist?(p(),$(o(S),{key:0,icon:"save",onClick:e},{default:x(()=>a[1]||(a[1]=[D(" Save playlist ")])),_:1})):N("",!0),y(o(S),{icon:"publish",onClick:t},{default:x(()=>a[2]||(a[2]=[D(" Export playlist ")])),_:1}),y(o(S),{icon:"shuffle",onClick:o(at)},{default:x(()=>a[3]||(a[3]=[D(" Shuffle ")])),_:1},8,["onClick"]),y(o(S),{icon:"category",onClick:o(st)},{default:x(()=>a[4]||(a[4]=[D(" Smart sort ")])),_:1},8,["onClick"])])]))}}),re=I(ot,[["__scopeId","data-v-8399fc64"]]);async function ne(){await Te(r.tracks),J()}const it=T({__name:"KLayoutAnalyzer",setup(n){return Z(async()=>{r.tracks=[]}),O(()=>r.selectedPlaylist,async e=>{e&&(r.tracks=await se(e),await ne())},{flush:"sync"}),(e,t)=>(p(),b(z,null,[y(Le),y(re)],64))}}),ut={class:"filter"},dt=T({__name:"KPlaylistsMultiple",setup(n){Z(async()=>{r.playlists=await ae()});function e(a){r.selectedPlaylists.push(a)}const t=V(""),s=w(()=>r.playlists.filter(a=>a.name.toLowerCase().includes(t.value.toLowerCase())));return(a,l)=>(p(),$(o(A),{class:"playlists-wrapper",depth:-2},{default:x(()=>[u("div",ut,[y(o(S),{icon:o(F).deployedPlaylists?"expand_more":"chevron_right",squared:"",onClick:l[0]||(l[0]=i=>o(F).deployedPlaylists=!o(F).deployedPlaylists)},null,8,["icon"]),y(o(W),{modelValue:t.value,"onUpdate:modelValue":l[1]||(l[1]=i=>t.value=i),class:"text-input",icon:"search",placeholder:"Filter playlists"},null,8,["modelValue"])]),u("div",{class:E(["playlists",{expanded:o(F).deployedPlaylists}])},[(p(!0),b(z,null,G(s.value,i=>(p(),b("div",{key:i.id,class:"playlist"},[y(o(S),{icon:"add",onClick:M=>e(i.id)},{default:x(()=>[D(C(i.name),1)]),_:2},1032,["onClick"])]))),128))],2)]),_:1}))}}),ct=I(dt,[["__scopeId","data-v-63198692"]]),pt={class:"options"},mt={class:"option"},ft={class:"form"},vt={class:"option"},yt={class:"form"},gt={class:"option"},ht={class:"form"},kt=T({__name:"KMixer",setup(n){const e=[{id:"BackToBack",label:"Back to back"},{id:"Interleaved",label:"Interleaved"},{id:"Progress",label:"Progress"}],t=V("BackToBack"),s=V(!0),a=V(0),l=w(()=>{const h=Math.floor(a.value/60),c=a.value%60;return`${h}h ${c}m`});async function i(){if(r.selectedPlaylists.length<1){alert("Select at least one playlist to merge");return}r.tracks=[];const h=[];for(const c of r.selectedPlaylists)h.push(await se(c));switch(t.value){case"BackToBack":if(r.tracks=h.flat(),s.value){const c=new Set;r.tracks=r.tracks.filter(k=>c.has(k.id)?!1:(c.add(k.id),!0))}break;case"Interleaved":{const c=Math.max(...h.map(g=>g.length)),k=new Set;for(let g=0;g<c;g++)for(const d of h){for(;s.value&&d[g]&&k.has(d[g].id);)d.splice(g,1);d[g]&&(r.tracks.push(d[g]),k.add(d[g].id))}}break;case"Progress":await M(h)}if(a.value>0)for(;r.tracks.reduce((c,k)=>c+k.duration_ms,0)>a.value*60*1e3;)r.tracks.splice(Math.floor(Math.random()*r.tracks.length),1);await ne()}async function M(h){const c=[],k=new Set;for(const g of h){const d=g.reduce((P,v)=>P+v.duration_ms,0);let f=0;for(const P of g)c.push({progress:f/d,track:P}),f+=P.duration_ms}for(const g of c){if(s.value&&k.has(g.track.id)){c.splice(c.indexOf(g),1);continue}k.add(g.track.id)}c.sort((g,d)=>g.progress-d.progress),r.tracks=c.map(g=>g.track)}return(h,c)=>(p(),$(o(A),{class:"mixer-wrapper",depth:-2},{default:x(()=>[u("div",pt,[u("div",mt,[c[3]||(c[3]=u("div",{class:"name"}," Mix mode ",-1)),u("div",ft,[y(o(xe),{modelValue:t.value,"onUpdate:modelValue":c[0]||(c[0]=k=>t.value=k),class:"select",options:e},null,8,["modelValue"])])]),u("div",vt,[c[4]||(c[4]=u("div",{class:"name"}," Target duration (0 to disable) ",-1)),u("div",yt,[y(o(Ie),{modelValue:a.value,"onUpdate:modelValue":c[1]||(c[1]=k=>a.value=k),clamp:"",class:"time",fixed:0,max:300,min:0,step:5,suffix:"min"},null,8,["modelValue"]),u("span",null,"("+C(l.value)+")",1)])]),u("div",gt,[c[5]||(c[5]=u("div",{class:"name"}," Remove duplicates ",-1)),u("div",ht,[y(o(Se),{modelValue:s.value,"onUpdate:modelValue":c[2]||(c[2]=k=>s.value=k)},null,8,["modelValue"])])])]),y(o(S),{icon:"manufacturing",onClick:i},{default:x(()=>c[6]||(c[6]=[D(" Generate ")])),_:1})]),_:1}))}}),_t=I(kt,[["__scopeId","data-v-97571f71"]]),bt={key:0,class:"playlist"},Mt={class:"name"},Pt={class:"actions"},wt=T({__name:"KPlaylistsViewer",setup(n){const e=w(()=>r.playlists.reduce((l,i)=>(l[i.id]=i,l),{}));function t(l){if(l===0)return;const i=r.selectedPlaylists[l];r.selectedPlaylists[l]=r.selectedPlaylists[l-1],r.selectedPlaylists[l-1]=i}function s(l){if(l===r.selectedPlaylists.length-1)return;const i=r.selectedPlaylists[l];r.selectedPlaylists[l]=r.selectedPlaylists[l+1],r.selectedPlaylists[l+1]=i}function a(l){r.selectedPlaylists.splice(l,1)}return(l,i)=>(p(),$(o(A),{class:"playlists-viewer",depth:-2},{default:x(()=>[o(r).selectedPlaylists.length===0?(p(),b("div",bt," No playlist selected ")):N("",!0),(p(!0),b(z,null,G(o(r).selectedPlaylists,(M,h)=>(p(),$(o(A),{key:h,class:"playlist"},{default:x(()=>[u("div",Mt,C(e.value[M].name),1),u("div",Pt,[y(o(S),{icon:"arrow_back",size:o(j).Small,squared:"",onClick:c=>t(h)},null,8,["size","onClick"]),y(o(S),{icon:"arrow_forward",size:o(j).Small,squared:"",onClick:c=>s(h)},null,8,["size","onClick"]),y(o(S),{icon:"delete",size:o(j).Small,squared:"",onClick:c=>a(h)},null,8,["size","onClick"])])]),_:2},1024))),128))]),_:1}))}}),$t=I(wt,[["__scopeId","data-v-50746a49"]]),xt=T({__name:"KLayoutMixer",setup(n){return Z(async()=>{r.tracks=[]}),(e,t)=>(p(),b(z,null,[y(ct),y($t),y(_t),y(re)],64))}}),St={class:"layout"},Tt=T({__name:"KBuilderLayout",setup(n){return(e,t)=>(p(),b("div",St,[y(Be),o(Y).current===o(R).ANALYZER?(p(),$(it,{key:0})):N("",!0),o(Y).current===o(R).MIXER?(p(),$(xt,{key:1})):N("",!0)]))}}),Ft=I(Tt,[["__scopeId","data-v-7e5f33db"]]);export{Ft as default};
